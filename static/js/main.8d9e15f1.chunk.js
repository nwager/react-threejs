(this["webpackJsonpreact-threejs"]=this["webpackJsonpreact-threejs"]||[]).push([[0],{20:function(e,t,n){},21:function(e,t,n){},22:function(e,t,n){},24:function(e,t,n){},26:function(e,t,n){"use strict";n.r(t);var i=n(9),o=n.n(i),a=n(13),r=n.n(a),s=(n(20),n(0)),c=n(1),h=n(2),d=n(3),u=n.p+"static/media/logo.6ce24c58.svg",l=(n(21),n(22),n(7)),p=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(l.jsxs)("div",{className:"Title",children:[Object(l.jsx)("h1",{children:"React and ThreeJS"}),Object(l.jsx)("p",{children:this.props.subtitle})]})}}]),n}(i.Component),b=n(4),m=n(14),w=n(15),j=(n(24),n.p+"static/media/sky_bg.381dc4c1.jpg"),g=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).orbitControls=!1,e.epsilon=1,e.mount=null,e.whaleMesh=null,e.mixer=null,e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=new b.vb;t.setSize(window.innerWidth,window.innerHeight),t.setPixelRatio(window.devicePixelRatio),this.mount&&this.mount.appendChild(t.domElement);var n=new b.gb,i=new b.X(75,window.innerWidth/window.innerHeight,.1,1e3);i.position.x=-this.props.cameraDist,i.position.z=this.props.cameraDist,i.position.y=this.props.cameraDist/2,i.rotation.x-=this.degToRad(26.56),i.rotation.y=this.degToRad(-45);var o=new b.k;t.render(n,i),this.addLights(n);var a=new b.d(10);n.add(a);var r=new b.pb(8,1,16,100),s=new b.N({color:16763694}),c=new b.M(r,s);c.position.y=this.props.radius,c.rotation.x=this.degToRad(15),n.add(c),(new m.a).load(this.pubURL("/models/bluewhale_textured.glb"),(function(t){e.whaleMesh=t.scene,e.whaleMesh.position.y=e.props.radius,e.mixer=new b.c(e.whaleMesh),e.mixer.clipAction(t.animations[7]).play(),n.add(e.whaleMesh)}),void 0,(function(e){console.log("That's a whale of an error!"),console.log(e)}));var h=this.orbitControls?new w.a(i,t.domElement):null,d=(new b.ob).load(j);n.background=d;!function a(){if(requestAnimationFrame(a),e.mixer&&e.mixer.update(o.getDelta()),e.whaleMesh){var r=Math.PI/2,s=o.getElapsedTime(),d=e.props.radius*Math.sin(-e.props.omega*s+r),u=e.props.radius*Math.cos(-e.props.omega*s+r);e.whaleMesh.position.set(0,d,u);var l=2*Math.PI/e.props.omega,p=s%l/l;if(e.whaleMesh.rotation.x=p*Math.PI*2,e.whaleMesh.position.distanceTo(c.position)<e.epsilon){var b=e.torusCircleState(360*Math.random());c.position.set(0,b[0].y,b[0].z),c.rotation.set(b[1].x,0,0),e.props.onScore()}}t.render(n,i),h&&h.update()}()}},{key:"addLights",value:function(e){var t=new b.s(16777215,4473924);t.position.set(0,300,0),t.intensity=2,e.add(t);var n=new b.m(16777215);n.position.set(75,300,-75),n.intensity=2,e.add(n);var i=new b.a(16777215);i.intensity=3,e.add(i)}},{key:"pubURL",value:function(e){return"/react-threejs"+e}},{key:"degToRad",value:function(e){return e*(Math.PI/180)}},{key:"radToDeg",value:function(e){return e*(180/Math.PI)}},{key:"torusCircleState",value:function(e){var t=this.props.radius*Math.cos(this.degToRad(e)),n=this.props.radius*Math.sin(this.degToRad(e)),i=this.degToRad(90-e);return[new b.tb(0,n,t),new b.tb(i,0,0)]}},{key:"render",value:function(){var e=this;return Object(l.jsx)("div",{ref:function(t){return e.mount=t}})}}]),n}(i.Component),v=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e){var i;return Object(s.a)(this,n),(i=t.call(this,e)).incrementScore=function(){i.setState({score:i.state.score+1})},i.state={score:0},i}return Object(c.a)(n,[{key:"render",value:function(){return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(g,{cameraDist:50,radius:30,omega:.5,onScore:this.incrementScore}),Object(l.jsx)(p,{subtitle:"Hope this website finds you whale."}),Object(l.jsxs)("header",{className:"App-header",children:[Object(l.jsx)("img",{src:u,className:"App-logo",alt:"logo"}),Object(l.jsxs)("p",{children:["Score: ",this.state.score]}),Object(l.jsx)("a",{href:"https://github.com/nwager/react-threejs",target:"_blank",rel:"noreferrer",children:"Github Repo"})]})]})}}]),n}(i.Component),f=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,27)).then((function(t){var n=t.getCLS,i=t.getFID,o=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),i(e),o(e),a(e),r(e)}))};r.a.render(Object(l.jsx)(o.a.StrictMode,{children:Object(l.jsx)(v,{})}),document.getElementById("root")),f()}},[[26,1,2]]]);
//# sourceMappingURL=main.8d9e15f1.chunk.js.map