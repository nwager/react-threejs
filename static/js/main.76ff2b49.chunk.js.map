{"version":3,"sources":["Header.tsx","Score.tsx","Renderer.tsx","LoadingScreen.tsx","resources/react.svg","resources/github.svg","resources/threejs.svg","MenuBar.tsx","resources/email.svg","resources/send-mail.svg","MailWidget.tsx","App.tsx","reportWebVitals.js","index.tsx"],"names":["Header","props","puns","state","subtitle","Math","floor","random","length","className","this","Component","Score","score","Renderer","mount","scene","THREE","addLights","hemiLight","position","set","intensity","add","dirLight","ambientLight","createFadeTorus","oldTorus","clone","material","color","transparent","addStar","camera","geometry","opacity","star","Array","fill","map","randFloatSpread","x","y","z","distanceTo","PI","rx","ry","rz","rotation","manager","onLoad","onProgress","url","current","total","renderer","alpha","setSize","window","innerWidth","innerHeight","setPixelRatio","devicePixelRatio","appendChild","domElement","onresize","aspect","updateProjectionMatrix","cameraDist","lookAt","render","whaleMesh","mixer","clock","GLTFLoader","load","pubURL","gltf","radius","clipAction","animations","play","undefined","error","console","log","torus","setTorusCircle","fadeTorusArray","stars","animate","requestAnimationFrame","update","getDelta","t","getElapsedTime","moveWhale","push","onScore","fadeTori","lookVec","copy","normalize","multiplyScalar","starsWave","whale","phi","sin","omega","cos","period","frac","deg","degToRad","forEach","i","remove","splice","scale","addScalar","rotateOnAxis","path","process","ref","LoadingScreen","style","width","progress","MenuBar","href","target","rel","src","reactLogo","alt","threeLogo","githubLogo","MailWidget","toggleHidden","setState","prev","hidden","updateSubject","event","subject","currentTarget","value","updateBody","body","sendEmail","document","location","encodeURIComponent","onClick","mailIcon","type","onChange","sendIcon","App","incrementScore","setInterval","clearInterval","max","fadeOutInterval","height","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.76ff2b49.chunk.js","sourcesContent":["import React, {Component} from 'react';\nimport './css/Header.css';\n\ninterface TitleState {\n\tsubtitle: string;\n}\n\nclass Header extends Component<{}, TitleState> {\n\n\tprivate puns = [\n\t\t\"Hope this website finds you whale.\",\n\t\t\"Whale hello there.\",\n\t\t\"Welcome, it's been a whale.\",\n\t\t\"Long time no sea.\",\n\t\t\"This is a fun whalepaper.\",\n\t\t\"There's no real porpoise to this page.\",\n\t\t\"Isn't this fin.\",\n\t\t\"Whale, whale, whale, look who's here.\",\n\t\t\"Taylor won gold in the 2021 Cetacea-lympics Gymnastics competition.\",\n\t\t\"No pun here; you've been spared.\",\n\t]\n\n\tconstructor(props: any) {\n\t\tsuper(props);\n\t\tthis.state = { subtitle: this.puns[Math.floor(Math.random()*this.puns.length)] };\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"Header\">\n\t\t\t\t<h1>React + ThreeJS</h1>\n\t\t\t\t<p className=\"subtitle\">{this.state.subtitle}</p>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Header;","import React, {Component} from 'react';\nimport './css/Score.css';\n\ninterface ScoreProps {\n\tscore: number;\n}\n\nclass Score extends Component<ScoreProps> {\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"Score\">\n\t\t\t\t<p className=\"scoreText\">Score: {this.props.score}</p>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Score;","import React, {Component} from 'react';\nimport * as THREE from 'three';\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';\n\nimport './css/Renderer.css'\n\ninterface RendererProps {\n  cameraDist: number;\n  radius: number;\n  omega: number;\n\n  onScore(): void;\n  onProgress(current: number): void;\n  onLoad(): void;\n}\n\nclass Renderer extends Component<RendererProps> {\n\n  private mount: HTMLDivElement | null = null;\n  private scene: THREE.Scene = new THREE.Scene();\n\n\tcomponentDidMount() {\n\n    const manager = new THREE.LoadingManager();\n    manager.onLoad = this.props.onLoad;\n    manager.onProgress = (url, current, total) => {\n      this.props.onProgress(current/total);\n    }\n\n    const renderer = new THREE.WebGLRenderer({alpha: true});\n    renderer.setSize(window.innerWidth, window.innerHeight);\n    renderer.setPixelRatio(window.devicePixelRatio);\n    // use ref as a mount point of the Three.js scene instead of the document.body\n    if (this.mount) {\n      this.mount.appendChild(renderer.domElement);\n    }\n    const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);\n\n    window.onresize = function() {\n      renderer.setSize(window.innerWidth, window.innerHeight);\n      camera.aspect = window.innerWidth / window.innerHeight;\n      camera.updateProjectionMatrix();\n    }\n\n    camera.position.x = -this.props.cameraDist;\n    camera.position.z = this.props.cameraDist;\n    camera.position.y = this.props.cameraDist/2;\n    camera.lookAt(0,0,0);\n    renderer.render(this.scene, camera);\n    \n    const clock = new THREE.Clock();\n\n    this.addLights();\n\n    // Whale\n    let whaleMesh: THREE.Object3D;\n    let mixer: THREE.AnimationMixer;\n    const loader = new GLTFLoader(manager);\n    loader.load(this.pubURL('/models/bluewhale_textured.glb'), gltf => {\n      whaleMesh = gltf.scene;\n      whaleMesh.position.y = this.props.radius;\n      this.scene.add(whaleMesh);\n      \n      mixer = new THREE.AnimationMixer(whaleMesh);\n      mixer.clipAction(gltf.animations[7]).play(); // main animation\n    }, undefined, error => {\n      console.log(\"That's a whale of an error!\");\n      console.log(error);\n    });\n\n    // Torus\n    const geometry = new THREE.TorusGeometry(8, 1, 16, 100);\n    const material = new THREE.MeshBasicMaterial({ color: 0xffcb2e });\n    const torus = new THREE.Mesh(geometry, material);\n    this.setTorusCircle(torus, Math.random() * 360);\n    this.scene.add(torus);\n    // array for fading tori animations\n    const fadeTorusArray: THREE.Mesh<THREE.TorusGeometry, THREE.MeshBasicMaterial>[] = [];\n\n    // Stars\n    const stars = Array(250).fill(null).map(() => this.addStar(camera));\n\n    // All animation\n    var animate = () => {\n      requestAnimationFrame(animate);\n      if (mixer) { mixer.update(clock.getDelta()); }\n      const t = clock.getElapsedTime();\n\n      // all whale-related actions\n      if (whaleMesh) {\n        // move the whale in a circle\n        this.moveWhale(whaleMesh, t);\n        \n        // move torus when whale goes through, and create fading effect\n        const epsilon = 1; // tolerance for checking for equal positions\n        if (whaleMesh.position.distanceTo(torus.position) < epsilon) {\n          fadeTorusArray.push(this.createFadeTorus(torus));\n          this.setTorusCircle(torus, Math.random() * 360);\n          this.props.onScore();\n        }\n        // fade away score tori\n        this.fadeTori(fadeTorusArray);\n\n        // loosely follow the whale\n        let lookVec = new THREE.Vector3().copy(whaleMesh.position);\n        camera.lookAt(lookVec.normalize().multiplyScalar(2.3));\n      }\n\n      // update stars\n      this.starsWave(stars, t);\n\n      renderer.render(this.scene, camera);\n    };\n    animate();\n  }\n\n  // adds all lights to the scene\n  addLights = () =>{\n    var hemiLight = new THREE.HemisphereLight( 0xffffff, 0x444444 );\n    hemiLight.position.set( 0, 300, 0 );\n    hemiLight.intensity = 2;\n    this.scene.add(hemiLight);\n\n    var dirLight = new THREE.DirectionalLight( 0xc300ff );\n    dirLight.position.set( 75, 300, -75 );\n    dirLight.intensity = 2;\n    this.scene.add(dirLight);\n\n    var ambientLight = new THREE.AmbientLight( 0xffffff );\n    ambientLight.intensity = 3;\n    this.scene.add(ambientLight);\n  }\n\n  // moves whale along circlular path, given the curren time\n  moveWhale(whale: any, t: number) {\n    const phi = Math.PI / 2; // start at top of circle\n    const y = this.props.radius * Math.sin(-this.props.omega * t + phi);\n    const z = this.props.radius * Math.cos(-this.props.omega * t + phi);\n    const period = 2 * Math.PI / this.props.omega;\n    const frac = (t % period) / period;\n    whale.position.set(0, y, z);\n    whale.rotation.x = frac * Math.PI * 2;\n  }\n\n  // get torus position and rotation for a given angle on the circle path\n  setTorusCircle(torus: THREE.Mesh<THREE.TorusGeometry, THREE.MeshBasicMaterial>, deg: number) {\n    const z = this.props.radius * Math.cos(THREE.MathUtils.degToRad(deg));\n    const y = this.props.radius * Math.sin(THREE.MathUtils.degToRad(deg));\n\n    const rx = THREE.MathUtils.degToRad(-deg + 90)\n    torus.position.set(0, y, z);\n    torus.rotation.set(rx, 0, 0);\n  }\n\n  // instantiates torus fade animation\n  createFadeTorus = (oldTorus: THREE.Mesh<THREE.TorusGeometry, THREE.MeshBasicMaterial>): THREE.Mesh<THREE.TorusGeometry, THREE.MeshBasicMaterial> => {\n    const clone = oldTorus.clone();\n    clone.material = new THREE.MeshBasicMaterial({ color: 0xffffff });\n    clone.material.transparent = true;\n    this.scene.add(clone);\n    return clone;\n  }\n\n  // fades all active tori animations\n  fadeTori(fadeTorusArray: THREE.Mesh<THREE.TorusGeometry, THREE.MeshBasicMaterial>[]) {\n    const fadeAmount = 0.1;\n    const sizeInc = 0.06;\n    fadeTorusArray.forEach((torus, i) => {\n      if (torus.material.opacity <= 0) {\n        this.scene.remove(torus);\n        fadeTorusArray.splice(i, 1);\n      }\n      torus.material.opacity -= fadeAmount;\n      torus.scale.addScalar(sizeInc);\n    })\n  }\n\n  // instantiates a star\n  addStar = (camera: THREE.Camera) => {\n    const geometry = new THREE.SphereGeometry(0.4, 4, 2);\n    const material = new THREE.MeshStandardMaterial({\n      // blue, purple\n      color: Math.random() < 0.5 ? 0x42ebe5 : 0xd037db,\n      transparent: true,\n      opacity: 0.9\n    });\n    const star = new THREE.Mesh(geometry, material);\n  \n    let [x, y, z] = Array(3).fill(0).map(() => THREE.MathUtils.randFloatSpread(200));\n    // reroll if too close to camera\n    while (new THREE.Vector3(x,y,z).distanceTo(camera.position) < 10) {\n      [x, y, z] = Array(3).fill(0).map(() => THREE.MathUtils.randFloatSpread(200));\n    }\n    const [rx, ry, rz] = Array(3).fill(0).map(() => THREE.MathUtils.randFloatSpread(Math.PI));\n  \n    star.position.set(x, y, z);\n    star.rotation.set(rx, ry, rz);\n    this.scene.add(star);\n    return star;\n  }\n\n  starsWave(stars: THREE.Mesh<THREE.SphereGeometry, THREE.MeshStandardMaterial>[], t: number) {\n    const starAmp = 0.01;\n    const starOmega = 0.5;\n    stars.forEach((star, i) => {\n      // add a little randomness to the rotation axes\n      star.rotateOnAxis(new THREE.Vector3(i,i*i,i*i).normalize(), 0.02);\n      // vertical wave effect\n      star.position.y += starAmp * Math.sin(starOmega*(t + (star.position.x / 10)));\n    });\n  }\n\n  // sin approximation using x^3 polynomial - https://gamedev.stackexchange.com/a/4780\n  // not sure if this is faster than Math.sin() but I'm gonna leave it here just in case\n  cubeSin(x: number): number {\n    const PI = Math.PI\n    x = x % (2*PI);\n    const B = 4 / Math.PI;\n    const C = -4 / (Math.PI*PI);\n\n    return -(B * x + C * x * ((x < 0) ? -x : x));\n  }\n\n  // adds public URL to beginning of path\n  pubURL(path: string): string { return process.env.PUBLIC_URL + path }\n\n  render() {\n    return (\n      <div className=\"Renderer\" ref={mount => (this.mount = mount)} />\n    )\n  }\n}\n\nexport default Renderer;","import React, {Component} from 'react';\nimport './css/LoadingScreen.css';\n\ninterface LoadingScreenProps {\n\topacity: number;\n\tprogress: number;\n}\n\nclass LoadingScreen extends Component<LoadingScreenProps> {\n\trender() {\n\t\treturn this.props.opacity > 0 ? (\n\t\t\t<div className=\"LoadingScreen\" style={{opacity: this.props.opacity}}>\n\t\t\t\t<h1 className=\"loadingText\">Loading</h1>\n\t\t\t\t<div className=\"progressParent\">\n\t\t\t\t\t<div className=\"progressBar\" style={{ width: `${this.props.progress*100}%` }}></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t) : null;\n\t}\n}\n\nexport default LoadingScreen;","export default __webpack_public_path__ + \"static/media/react.de556238.svg\";","export default __webpack_public_path__ + \"static/media/github.342298b7.svg\";","export default __webpack_public_path__ + \"static/media/threejs.b26a3dcc.svg\";","import React, {Component} from 'react';\nimport './css/MenuBar.css';\nimport reactLogo from './resources/react.svg';\nimport githubLogo from './resources/github.svg';\nimport threeLogo from './resources/threejs.svg';\n\nclass MenuBar extends Component {\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"MenuBar\">\n\t\t\t\t<div className=\"activate-button\"></div>\n\t\t\t\t<ul className=\"Links\">\n\t\t\t\t\t<li className=\"bar-item\">\n\t\t\t\t\t\t<a href=\"https://reactjs.org/\" target=\"_blank\" rel=\"noreferrer\">\n\t\t\t\t\t\t\t<img src={reactLogo} alt=\"react logo\" />\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li className=\"bar-item\">\n\t\t\t\t\t\t<a href=\"https://threejs.org/\" target=\"_blank\" rel=\"noreferrer\">\n\t\t\t\t\t\t\t<img src={threeLogo} alt=\"threejs logo\" />\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li className=\"bar-item\">\n\t\t\t\t\t\t<a href=\"https://github.com/nwager/react-threejs\" target=\"_blank\" rel=\"noreferrer\">\n\t\t\t\t\t\t\t<img src={githubLogo} alt=\"github logo\" />\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default MenuBar;","export default __webpack_public_path__ + \"static/media/email.b4731eb9.svg\";","export default __webpack_public_path__ + \"static/media/send-mail.7c5122fb.svg\";","import React, {ChangeEvent, Component} from 'react';\nimport './css/MailWidget.css';\nimport mailIcon from './resources/email.svg';\nimport sendIcon from './resources/send-mail.svg';\n\ninterface MailWidgetState {\n\thidden: boolean;\n\tsubject: string;\n\tbody: string;\n}\n\nclass MailWidget extends Component<{}, MailWidgetState> {\n\n\tconstructor(props: any) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\thidden: true,\n\t\t\tsubject: \"\",\n\t\t\tbody: \"\",\n\t\t};\n\t}\n\n\ttoggleHidden = () => {\n\t\tthis.setState(prev => { return { hidden: !prev.hidden } });\n\t}\n\n\tupdateSubject = (event: ChangeEvent<HTMLInputElement>) => {\n\t\tthis.setState({ subject: event.currentTarget.value });\n\t}\n\n\tupdateBody = (event: ChangeEvent<HTMLTextAreaElement>) => {\n\t\tthis.setState({ body: event.currentTarget.value });\n\t}\n\n\tsendEmail = () => {\n\t\tdocument.location.href = \"mailto:noahwager+reactthreejs@gmail.com?subject=\"\n\t\t\t+ encodeURIComponent(this.state.subject)\n\t\t\t+ \"&body=\" + encodeURIComponent(this.state.body);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className={`MailWidget ${this.state.hidden ? \"down\" : \"\"}`}>\n\t\t\t\t<button className=\"mail-button\" onClick={this.toggleHidden}>\n\t\t\t\t\t<img src={mailIcon} alt=\"email contact form\" />\n\t\t\t\t</button>\n\t\t\t\t<div className=\"mail-container\">\n\t\t\t\t\t<div className=\"mail-text-container\">\n\t\t\t\t\t\t<span className=\"mail-label\">Subject</span>\n\t\t\t\t\t\t<input type=\"text\" className=\"mail-input mail-subject\" value={this.state.subject} onChange={this.updateSubject} />\n\t\t\t\t\t\t<span className=\"mail-label\">Body</span>\n\t\t\t\t\t\t<textarea className=\"mail-input mail-body\" value={this.state.body} onChange={this.updateBody} />\n\t\t\t\t\t\t<button className=\"send-button\" onClick={this.sendEmail}>\n\t\t\t\t\t\t\t\t<img src={sendIcon} alt=\"send email\" />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default MailWidget;","import React, {Component} from 'react';\nimport './css/App.css';\nimport Header from './Header';\nimport Score from './Score';\nimport Renderer from \"./Renderer\";\nimport LoadingScreen from './LoadingScreen';\nimport MenuBar from './MenuBar';\nimport MailWidget from './MailWidget'\n\ninterface AppState {\n  score: number;\n  opacity: number;\n  progress: number;\n  radius: number;\n  omega: number;\n  cameraDist: number;\n}\n\nclass App extends Component<{}, AppState> {\n\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      score: 0,\n      opacity: 1,\n      progress: 0,\n      radius: 50, // default 50\n      omega: 0.3, // default 0.3\n      cameraDist: 70, // default 70\n    }\n  }\n\n  incrementScore = () => {\n    this.setState(prev => { return { score: prev.score + 1 }})\n  }\n\n  onProgress = (current: number) => {\n    this.setState({ progress: current });\n  }\n\n  onLoad = () => {\n    const fadeOutDuration = 0.8; // seconds\n    const fadeOutInterval = 20; // milliseconds\n    setInterval(() => {\n      // before setState because state should be read before setting\n      if (this.state.opacity <= 0) {\n        clearInterval();\n      }\n      const fadeAmount = fadeOutInterval / (1000*fadeOutDuration);\n      this.setState(prev => { return { opacity: Math.max(prev.opacity-fadeAmount, 0) }});\n    }, fadeOutInterval);\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <LoadingScreen opacity={this.state.opacity} progress={this.state.progress}/>\n        <Renderer cameraDist={this.state.cameraDist} radius={this.state.radius} omega={this.state.omega} onScore={this.incrementScore} onProgress={this.onProgress} onLoad={this.onLoad} />\n        <Header />\n        <MenuBar />\n        <Score score={this.state.score}/>\n        <MailWidget />\n        <div className=\"scrollSpace\" style={{ height: '200vh' }} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}