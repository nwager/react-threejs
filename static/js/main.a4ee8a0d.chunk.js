(this["webpackJsonpreact-threejs"]=this["webpackJsonpreact-threejs"]||[]).push([[0],{20:function(e,t,n){},21:function(e,t,n){},22:function(e,t,n){},24:function(e,t,n){},26:function(e,t,n){"use strict";n.r(t);var i=n(9),a=n.n(i),o=n(13),r=n.n(o),s=(n(20),n(0)),c=n(1),h=n(2),d=n(3),l=n.p+"static/media/logo.6ce24c58.svg",u=(n(21),n(22),n(7)),p=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(u.jsxs)("div",{className:"Title",children:[Object(u.jsx)("h1",{children:"React and ThreeJS"}),Object(u.jsx)("p",{children:this.props.subtitle})]})}}]),n}(i.Component),b=n(4),j=n(14),v=n(15),w=(n(24),n.p+"static/media/sky_bg.381dc4c1.jpg"),m=30,g=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).mount=null,e.whaleMesh=null,e.mixer=null,e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=new b.vb;t.setSize(window.innerWidth,window.innerHeight),t.setPixelRatio(window.devicePixelRatio),this.mount&&this.mount.appendChild(t.domElement);var n=new b.gb,i=new b.X(75,window.innerWidth/window.innerHeight,.1,1e3);i.position.x=-50,i.position.z=50,i.position.y=25,i.rotation.x-=this.degToRad(26.56),i.rotation.y=this.degToRad(-45);var a=new b.k;t.render(n,i),this.addLights(n);var o=new b.d(10);n.add(o);var r=new b.pb(8,1,16,100),s=new b.N({color:16763694}),c=new b.M(r,s);c.position.y=m,c.rotation.x=this.degToRad(15),n.add(c),(new j.a).load(this.pubURL("/models/bluewhale_textured.glb"),(function(t){var i=t.scene;i.position.y=m,e.whaleMesh=i,e.mixer=new b.c(e.whaleMesh),e.mixer.clipAction(t.animations[7]).play(),n.add(e.whaleMesh)}),void 0,(function(e){console.log("That's a whale of an error!"),console.log(e)}));new v.a(i,t.domElement);var h=(new b.ob).load(w);n.background=h;!function o(){if(requestAnimationFrame(o),e.mixer&&e.mixer.update(a.getDelta()),e.whaleMesh){var r=Math.PI/2,s=a.getElapsedTime(),h=m*Math.sin(-.5*s+r),d=m*Math.cos(-.5*s+r);e.whaleMesh.position.set(0,h,d);var l=2*Math.PI/.5,u=s%l/l;if(e.whaleMesh.rotation.x=u*Math.PI*2,e.whaleMesh.position.distanceTo(c.position)<1){var p=e.torusCircleState(360*Math.random());c.position.set(0,p[0],p[1]),c.rotation.set(p[2],0,0),e.props.onScore()}}t.render(n,i)}()}},{key:"addLights",value:function(e){var t=new b.s(16777215,4473924);t.position.set(0,300,0),t.intensity=2,e.add(t);var n=new b.m(16777215);n.position.set(75,300,-75),n.intensity=2,e.add(n);var i=new b.a(16777215);i.intensity=3,e.add(i)}},{key:"pubURL",value:function(e){return"/react-threejs"+e}},{key:"degToRad",value:function(e){return e*(Math.PI/180)}},{key:"radToDeg",value:function(e){return e*(180/Math.PI)}},{key:"torusCircleState",value:function(e){var t=m*Math.cos(this.degToRad(e));return[m*Math.sin(this.degToRad(e)),t,this.degToRad(90-e)]}},{key:"render",value:function(){var e=this;return Object(u.jsx)("div",{ref:function(t){return e.mount=t}})}}]),n}(i.Component),f=function(e){Object(h.a)(n,e);var t=Object(d.a)(n);function n(e){var i;return Object(s.a)(this,n),(i=t.call(this,e)).incrementScore=function(){i.setState({score:i.state.score+1})},i.state={score:0},i}return Object(c.a)(n,[{key:"render",value:function(){return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(g,{onScore:this.incrementScore}),Object(u.jsx)(p,{subtitle:"Subtitle from props"}),Object(u.jsxs)("header",{className:"App-header",children:[Object(u.jsx)("img",{src:l,className:"App-logo",alt:"logo"}),Object(u.jsxs)("p",{children:["Score: ",this.state.score]}),Object(u.jsx)("a",{href:"https://github.com/nwager/react-threejs",target:"_blank",children:"Github Repo"})]})]})}}]),n}(i.Component),x=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,27)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),i(e),a(e),o(e),r(e)}))};r.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(f,{})}),document.getElementById("root")),x()}},[[26,1,2]]]);
//# sourceMappingURL=main.a4ee8a0d.chunk.js.map